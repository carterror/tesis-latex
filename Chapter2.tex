 \chapter{Características y diseño del sistema}
\label{chap:chapter2}

\section{Introducción al capítulo}

En este capítulo se desarrolla la propuesta de solución tecnológica para enfrentar los problemas de gestión de servicios detectados en Transconsul \ac{S.A.}. A partir del análisis realizado en el capítulo anterior, se describe detalladamente el proceso de diseño del sistema, desde la definición de los módulos funcionales hasta la planificación de las entregas y las iteraciones de desarrollo. \\

La solución propuesta se fundamenta en la implementación de un sistema modular que permite gestionar de manera eficiente las citas y servicios ofrecidos por la empresa. En primer lugar, se identifican los roles clave que interactuarán con el sistema, desde administradores hasta usuarios finales, asegurando que cada actor del proceso cuente con las herramientas necesarias para realizar sus funciones de manera efectiva. Seguidamente, se introducen las Historias de Usuario (HU), que definen de manera clara los requisitos del sistema y las funcionalidades esperadas, proporcionando una visión centrada en el usuario y facilitando la priorización de las tareas de desarrollo. \\

Además, el capítulo abarca la planificación de las iteraciones, siguiendo los principios de la metodología ágil Extreme Programming (XP). Esto permite que el desarrollo del sistema sea flexible y adaptable a cambios en los requisitos o retroalimentación del cliente, garantizando la entrega de valor de manera continua. Se presenta un plan de iteraciones detallado que incluye la duración de cada fase, las HU asignadas y el esfuerzo estimado para cada tarea.\\

Finalmente, se aborda el diseño técnico del sistema, que incluye tanto la arquitectura general como los patrones de diseño utilizados. Se emplean patrones GRASP y GoF, los cuales garantizan que el sistema sea escalable, mantenible y eficiente. Este enfoque modular asegura que la solución pueda crecer y adaptarse a las necesidades cambiantes de la empresa sin comprometer su estabilidad o rendimiento.\\

Este capítulo ofrece una visión integral del diseño de la solución propuesta, asegurando que cada aspecto del desarrollo esté alineado con los objetivos de Transconsul S.A. y con las mejores prácticas en la creación de sistemas de gestión de servicios.\\

\section{Propuesta de solución}

Luego de haber analizado las necesidades del sistema y seleccionado las herramientas para la implementación, se definen los módulos a desarrollar para dar solución al problema planteado.

\begin{itemize}
	\item Autenticación y Autorización: Este módulo se encargará de gestionar la autenticación de usuarios, el registro de cuentas y la autorización de acceso a diferentes partes de la aplicación.
	\item Gestión de Citas: Este módulo será el núcleo de la aplicación y se encargará de permitir a los usuarios programar, aceptar y cancelar citas teniendo en cuenta la disponibilidad diaria de las mismas. Deberá incluir notificaciones de citas programadas y recordatorios automáticos.
	\item Gestión de Clientes: Manejará toda la información relacionada con los clientes, incluyendo su perfil, historial de citas y otra información relevante.
	\item Gestión de Reseñas: Permite a los usuarios dejar reseñas sobre su experiencia con el servicio, las cuales podrán ser visualizadas y gestionadas por el administrador.
	\item Gestión de Trabajadores: Permite a los administradores gestionar la información de los trabajadores y una  reseña sobre ellos.
	\item Gestión de tramites:Permite a los administradores crear, modificar y eliminar trámites disponibles para los usuarios.
	\item Comunicación y Notificaciones: Este módulo será responsable de facilitar la comunicación entre el bufete de abogados y sus clientes, a través de mensajes de correos electrónicos que informaran el estado de las citas y servicios solicitados.
	\item Administración del Sistema: Este módulo será utilizado por los administradores del sistema para gestionar usuarios, configurar ajustes de la aplicación, generar informes y realizar tareas de mantenimiento.
	\item Análisis y Reportes: Este módulo se encargará de recopilar datos sobre el uso de la aplicación, el rendimiento del sistema y la satisfacción del cliente, para generar informes y análisis que ayuden a mejorar la eficiencia y calidad del servicio.
\end{itemize}

Para el desarrollo de los módulos propuestos se siguen los pasos que establece la metodología ágil XP,
donde se respetará el esquema que explica \citep{escribano2002introduccion}.

\section{Fase I: Planificación}

Es la fase en la que se define el alcance general del proyecto. En esta el cliente define lo que necesita
mediante la redacción de HU y establece la prioridad de cada una. Luego, los programadores estiman los
tiempos de desarrollo en base a esta información. Las estimaciones realizadas en esta fase son primarias,
debido a que estarán basadas en datos de muy alto nivel y podrían variar cuando se analicen en cada ite-
ración. Además se toman acuerdos sobre el contenido de la primera entrega y se determina un cronograma
en conjunto con el cliente. Una entrega debería obtenerse en no más de tres meses \citep{escribano2002introduccion,joskowicz2008reglas}.

\subsection{Historias de Usuarios}

Las HU son la técnica que utiliza XP para especificar los requisitos de software, estas deben ser programadas en un tiempo entre una y tres semanas. Si la estimación es superior a las tres semanas, debe ser dividida en dos o más historias. Si es menos de una semana, se debe combinar con otra HU. Las estimaciones de esfuerzo, asociado a la implementación de las historias, la establecen los programadores, utilizando como medida el punto. Un punto, equivale a una semana ideal de programación (5 días laborables). Las historias, generalmente, valen de 1 a 3 puntos. \citep{escribano2002introduccion}. A continuación se describen las HU definidas para llevar a cabo el desarrollo de los módulos.


\begin{userstory}[tb:prueba]
	\storyname{Registro de Usuario}
	\storyuser{Cliente}
	\storyiter{1}
	\storypriority{Alta}
	\storyrisk{Medio}
	\storypoints{0.2}
	\storyprogrammer{Alejandro Santana Viamontes}
	\storydescription{
		Como usuario nuevo, quiero poder registrarme en la aplicación proporcionando mi información personal, como nombre, dirección de correo electrónico y contraseña, para acceder a las funcionalidades de la aplicación.
		\begin{itemize}
			\item nombre
			\item dirección de correo electrónico
			\item contraseña
			\item rectificar contraseña
		\end{itemize}
	}
	\storyobservation{
		\begin{itemize}
			\item La aplicación debe permitir al usuario completar un formulario de registro con campos para nombre, correo electrónico y contraseña.
			\item Los campos del formulario deben validar que la información ingresada sea válida y esté en el formato correcto.
			\item Después de enviar el formulario, la aplicación debe crear una cuenta de usuario y almacenarla en la base de datos.
			\item Se debe enviar un correo electrónico de confirmación al usuario registrado para verificar su dirección de correo electrónico.
			\item El usuario debe poder iniciar sesión después de completar el registro exitosamente.
		\end{itemize}
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Página de Inicio}
	\storyuser{Administrador, Legalizador, Cliente, Notario}
	\storyiter{1}
	\storypriority{Alta}
	\storyrisk{Alto}
	\storypoints{1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite a los usuarios acceder a la pagina de inicio del sistema desde donde se accede a las demás funcionalidades del sistema.
	}
	\storyobservation{
	
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Iniciar Sesión}
	\storyuser{Administrador, Legalizador, Cliente, Notario}
	\storyiter{1}
	\storypriority{Alta}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{Alejandro Santana Viamontes}
	\storydescription{
		Como usuario registrado, quiero poder iniciar sesión en la aplicación utilizando mi dirección de correo electrónico y contraseña, para acceder a mis datos y realizar acciones dentro de la aplicación.
		\begin{itemize}
			\item dirección de correo electrónico
			\item contraseña
		\end{itemize}
	}	
	\storyobservation{
		\begin{itemize}
			\item La aplicación debe proporcionar un formulario de inicio de sesión con campos para correo electrónico y contraseña.
			\item Los campos del formulario deben validar que la información ingresada sea válida y coincida con los datos almacenados en la base de datos.
			\item Después de enviar el formulario, la aplicación debe autenticar al usuario y redirigirlo a la página principal si las credenciales son válidas.
			\item Si las credenciales son inválidas, la aplicación debe mostrar un mensaje de error al usuario indicando que las credenciales son incorrectas.
			\item La sesión del usuario debe mantenerse activa mientras navega por la aplicación, permitiéndole acceder a las funcionalidades protegidas sin necesidad de volver a iniciar sesión.
		\end{itemize}
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}


\begin{userstory}[tb:prueba]
	\storyname{Gestión de Perfiles de Usuario}
	\storyuser{Administrador}
	\storyiter{1}
	\storypriority{Media}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Como administrador, quiero poder gestionar los perfiles de usuario, incluyendo la capacidad de crear, editar y eliminar cuentas de usuario, para mantener el control sobre quién tiene acceso a la aplicación.
		\begin{itemize}
			\item nombre
			\item dirección de correo electrónico
			\item contraseña
			\item carnet de identidad
			\item rol
		\end{itemize}
	}	
	\storyobservation{
		\begin{itemize}
			\item La aplicación debe proporcionar una interfaz de administración donde el administrador pueda ver una lista de todos los usuarios registrados.
			\item El administrador debe poder crear nuevos perfiles de usuario, proporcionando información como nombre, dirección de correo electrónico y contraseña, así como el rol. 
			\item Se debe implementar la funcionalidad de edición para permitir al administrador actualizar la información de los perfiles de usuario existentes.
			\item El administrador debe poder eliminar cuentas de usuario cuando sea necesario, lo que resultará en la eliminación permanente de los datos asociados con esa cuenta.
			\item Se deben implementar controles de acceso adecuados para garantizar que solo el administrador tenga acceso a estas funcionalidades de gestión de perfiles.
		\end{itemize}
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Reservar Cita}
	\storyuser{Cliente}
	\storyiter{1}
	\storypriority{Alta}
	\storyrisk{Alto}
	\storypoints{1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder a la opción de registrar su cita, donde se muestra una página con un formulario a rellenar con los siguientes campos
		\begin{itemize}
			\item Cantidad de Documentos a Legalizar
			\item Obtención de documentos
			\item Fecha
			\item Trámite
			\item Con Notario
			\item Motivo
		\end{itemize}
	}	
	\storyobservation{
		\begin{itemize}
		\item El usuario debe estar autenticado en el sistema y con la información de su perfil completa.
		\item El sistema comprueba que haya disponibilidad para la fecha seleccionada y guarde al reserva en la base de datos.
		\end{itemize}
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Citas}
	\storyuser{Notario,Legalizador}
	\storyiter{2}
	\storypriority{Alta}
	\storyrisk{Bajo}
	\storypoints{0.3}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
	Permite a los usuarios listar las citas de todos los clientes donde se muestran la fecha, el cliente, estado y los botones "Aceptar" y "Denegar"
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Ver Citas}
	\storyuser{Cliente}
	\storyiter{2}
	\storypriority{Media}
	\storyrisk{Media}
	\storypoints{0.3}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al cliente listar sus citas donde se muestran la fecha y el estado. 
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Aceptar Citas}
	\storyuser{Notario,Legalizador}
	\storyiter{2}
	\storypriority{Media}
	\storyrisk{Media}
	\storypoints{0.1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
	Permite al usuario cambiar el estado de la cita a "Aceptada" lo que notificará al cliente a su correo electrónico.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Denegar Citas}
	\storyuser{Notario,Legalizador}
	\storyiter{2}
	\storypriority{Media}
	\storyrisk{Media}
	\storypoints{0.1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario cambiar el estado de la cita a "Denegada" lo que notificará al cliente a su correo electrónico.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Modificar Perfil Usuario}
	\storyuser{Cliente}
	\storyiter{1}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.5}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens, Alejandro Santana Viamontes}
	\storydescription{
		Permite al usuario poder acceder a la opción de modificar usuario, donde se muestra una página con un formulario con los datos que el usuario puede modificar los cuales son.
		\begin{itemize}
			\item Nombre
			\item Apellidos
			\item Usuario
			\item Dirección
			\item Teléfono
			\item Carnet de identidad
			\item Foto de perfil
		\end{itemize}
	}	
	\storyobservation{
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}


\begin{userstory}[tb:prueba]
	\storyname{Eliminar Usuario}
	\storyuser{Administrador}
	\storyiter{2}
	\storypriority{Medio}
	\storyrisk{Media}
	\storypoints{0.5}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder acceder a la opción de eliminar uno o varios usuarios seleccionados, donde se muestra una advertencia con un mensaje de:
	    ¿Esta seguro?
		No podrá revertir esta acción
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

% Crear Tramite
\begin{userstory}[tb:prueba]
	\storyname{Crear Tramite}
	\storyuser{Administrador}
	\storyiter{2}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder acceder a la opción de crear un trámite a realizar, donde se muestra una página con un formulario a rellenar con los siguientes datos:
		
		\begin{itemize}
			\item Código
			\item Nombre
			\item Descripción
			\item Precio
		\end{itemize}
		
		
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

% Modificar  Tramite
\begin{userstory}[tb:prueba]
	\storyname{Modificar Tramite}
	\storyuser{Administrador}
	\storyiter{2}
	\storypriority{Bajo}
	\storyrisk{Bajo}
	\storypoints{1}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder acceder a la opción de modificar un trámite a realizar, donde se muestra una página con un formulario con los siguientes datos:
		
		\begin{itemize}
			\item Código
			\item Nombre
			\item Descripción
			\item Precio
		\end{itemize}
		
		
	}	
	\storyobservation{
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

% Eliminar Tramite
\begin{userstory}[tb:prueba]
	\storyname{Eliminar Tramite}
	\storyuser{Administrador}
	\storyiter{2}
	\storypriority{Media}
	\storyrisk{Medio}
	\storypoints{0.3}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder acceder a la opción de eliminar tramite o los seleccionados, donde se muestra una advertencia con un mensaje:
		¿Esta seguro?
	    No podrá revertir esta acción		
		
	}	
	\storyobservation{
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Tramites}
	\storyuser{Administrador}
	\storyiter{2}
	\storypriority{Alta}
	\storyrisk{Bajo}
	\storypoints{0.3}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario listar los tramites, donde se muestra, el código, nombre, descripción, precio y los botones de "Agregar", "Modificar" y "Eliminar"		
		
	}	
	\storyobservation{
	}
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Crear Trabajador}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{ Alejandro Santana Viamontes
	}
	\storydescription{
		Permite al usuario poder acceder a la opción de crear trabajador, donde se muestra una página con un formulario a rellenar con los siguientes datos:
		
		\begin{itemize}
			\item Nombre
			\item Nivel
			\item Descripción
			\item Foto
		\end{itemize}
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Modificar Trabajador}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{ Alejandro Santana Viamontes
	}
	\storydescription{
		Permite al usuario poder acceder a la opción de modificar trabajador, donde se muestra una página con un formulario a rellenar con los siguientes datos:
		
		\begin{itemize}
			\item Nombre
			\item Nivel
			\item Descripción
			\item Foto
		\end{itemize}
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Eliminar Trabajador}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{ Alejandro Santana Viamontes
	}
	\storydescription{
		Permite al usuario poder acceder a la opción de eliminar trabajador, donde se muestra una página con un mensaje de advertencia:
		¿Esta seguro?
		No podrá revertir esta acción
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Trabajadores}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{ Alejandro Santana Viamontes
	}
	\storydescription{
		Permite al usuario listar los trabajadores, donde se muestra el nombre, nivel y descripción además de  los botones de "Agregar", "Modificar" y "Eliminar"
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Ver Trabajador}
	\storyuser{Cliente}
	\storyiter{3}
	\storypriority{Media}
	\storyrisk{Bajo}
	\storypoints{0.2}
	\storyprogrammer{ Alejandro Santana Viamontes
	}
	\storydescription{
		Permite al usuario ver la información de los trabajadores a través de la pagina de inicio.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Crear Artículo}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Medio}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder crear artículos para el Blog completando un formulario con los siguientes campos.
		\begin{itemize}
		\item Título
		\item Foto
		\item Descripción
		\end{itemize}  
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Modificar Artículo}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
	Permite al usuario poder modificar los artículos del Blog completando un formulario con los siguientes campos.
	\begin{itemize}
		\item Título
		\item Foto
		\item Descripción
	\end{itemize}  
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Eliminar Artículo}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario poder acceder a la opción de eliminar artículo, donde se muestra una página con un mensaje de advertencia:
		¿Esta seguro?
		No podrá revertir esta acción
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Artículos}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario listar los artículos, donde se muestra el nombre y la fecha de creación además de los botones de "Crear", "Editar" y "Eliminar"
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Leer Artículo}
	\storyuser{Cliente}
	\storyiter{3}
	\storypriority{Baja}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario leer los artículos del blog.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Previsualizar Artículo}
	\storyuser{Administrador}
	\storyiter{3}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario observar como quedará el artículo una vez publicado.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Crear Disponibilidad}
	\storyuser{Notario,Legalizador}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario crear una disponibilidad completando un formulario con los siguientes campos.
		\begin{itemize}
		\item Fecha 
		\item Cantidad
		\end{itemize}
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Modificar Disponibilidad}
	\storyuser{Notario,Legalizador}
	\storyiter{4}
	\storypriority{Media}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario modificar una disponibilidad completando un formulario con los siguientes campos.
	\begin{itemize}
		\item Fecha 
		\item Cantidad
	\end{itemize}
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Eliminar Disponibilidad}
	\storyuser{Notario,Legalizador}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder a la opción de eliminar disponibilidad, donde se muestra una página con un mensaje de advertencia:
		¿Esta seguro?
		No podrá revertir esta acción
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Disponibilidades}
	\storyuser{Notario,Legalizador}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
	Permite al usuario listar las disponibilidades, donde se muestra la fecha, cantidad disponibles y cantidad reservadas, además de los botones de "Crear", "Editar" y "Eliminar"
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Crear Opinión}
	\storyuser{Clientes}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario crear una opinión sobre los servicios brindados por la empresa.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Eliminar Opinión}
	\storyuser{Administrador}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
	Permite al usuario acceder a la opción de eliminar opinión, donde se muestra una página con un mensaje de advertencia:
	¿Esta seguro?
	No podrá revertir esta acción
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Listar Opiniones}
	\storyuser{Administrador}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario listar las opiniones hechas por los clientes, donde se muestra la información de las opiniones así como el botón "Eliminar"
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Acceder al blog}
	\storyuser{Cliente}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder al blog donde podrá ver los artículos publicados.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Acceder a Contacto}
	\storyuser{Cliente}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder a la información de contacto como dirección o teléfono de la empresa, un mapa con la ubicación y el formulario de soporte.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Acceder a Servicios}
	\storyuser{Cliente}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder a los servicios que brinda la empresa donde se muestran los servicios una breve descripción de estos.
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\begin{userstory}[tb:prueba]
	\storyname{Acceder a Nosotros}
	\storyuser{Cliente}
	\storyiter{4}
	\storypriority{Alta}
	\storyrisk{Media}
	\storypoints{0.2}
	\storyprogrammer{Técn. Carlos Brayan Rámila Chorens}
	\storydescription{
		Permite al usuario acceder a una reseña de la empresa donde se muestran datos como los años de experiencia, la misión y la visión de la empresa, entre otros. 
	}
	\storyobservation{
	}	
	%\storyinterface{\includegraphics[scale=0.5]{Images/DSC00461}}
\end{userstory}

\subsection{Estimación de esfuerzo por Historia de Usuario}

Se realiza la estimación de esfuerzo que arroja cada HU, con el objetivo de obtener un correcto desarrollo
del sistema. Para una mayor organización se decide además, asignar a cada iteración el conjunto de historias
agrupadas en correspondencia con el módulo al que representen. A continuación se muestra la estimación
realizada:

\subsection{Desarrollo del plan de iteraciones}

Una vez definidas las HU y realizada una previa estimación de esfuerzos, se procede a la planificación de
la etapa de implementación del sistema. En este espacio, se crea el plan de iteraciones, donde se especifica
la prioridad con que se implementarán las HU organizadas por iteraciones. Teniendo en cuenta el esfuerzo
asociado a las HU y a las prioridades del cliente, se define una versión que sea de valor para este.

\begin{effortestimation}
\addentry[1]{ Registro de Usuario}{0.2}
\addentry[1]{ Página de Inicio}{1.0}
\addentry[1]{ Iniciar Sesión}{0.2}
\addentry[1]{ Gestión de Perfiles de Usuario}{0.2}
\addentry[1]{ Reservar Cita}{1.0}
\addentry[1]{ Modificar Perfil Usuario}{0.5}
\addentry[2]{ Listar Citas}{0.3}
\addentry[2]{ Ver Citas}{0.3}
\addentry[2]{ Aceptar Citas}{0.1}
\addentry[2]{ Denegar Citas}{0.1}
\addentry[2]{ Eliminar Usuario}{0.5}
\addentry[2]{ Crear Tramite}{1.0}
\addentry[2]{ Modificar Tramite}{1.0}
\addentry[2]{ Eliminar Tramite}{0.3}
\addentry[2]{ Listar Tramites}{0.3}
\addentry[3]{ Crear Trabajador}{0.2}
\addentry[3]{ Modificar Trabajador}{0.2}
\addentry[3]{ Eliminar Trabajador}{0.2}
\addentry[3]{ Listar Trabajadores}{0.2}
\addentry[3]{ Ver Trabajador}{0.2}
\addentry[3]{ Crear Artículo}{0.2}
\addentry[3]{ Modificar Artículo}{0.2}
\addentry[3]{ Eliminar Artículo}{0.2}
\addentry[3]{ Listar Artículos}{0.2}
\addentry[3]{ Leer Artículo}{0.2}
\addentry[3]{ Previsualizar Artículo}{0.2}
\addentry[4]{ Crear Disponibilidad}{0.2}
\addentry[4]{ Modificar Disponibilidad}{0.2}
\addentry[4]{ Eliminar Disponibilidad}{0.2}
\addentry[4]{ Listar Disponibilidades}{0.2}
\addentry[4]{ Crear Opinión}{0.2}
\addentry[4]{ Eliminar Opinión}{0.2}
\addentry[4]{ Listar Opiniones}{0.2}
\addentry[4]{ Acceder al blog}{0.2}
\addentry[4]{ Acceder a Contacto}{0.2}
\addentry[4]{ Acceder a Servicios}{0.2}
\addentry[4]{ Acceder a Nosotros}{0.2}
\end{effortestimation}


\subsection{Plan de duración de las iteraciones}

A continuación, se presenta el plan de duración de las iteraciones. Este plan, tiene como finalidad, mostrar
la duración de cada iteración, así como el orden en que serán implementadas las HU en cada iteración como
se muestra en la tabla siguiente:

\geniterationplan

\subsection{Plan de entregas}

En el plan de entrega que se plantea a continuación, se hace una propuesta de las versiones (releases) del sistema. Cada versión se conformará al finalizar una iteración.

\begin{longtable}[c]{|l|p{3.0cm}|p{3.0cm}|p{3.0cm}|p{3.0cm}|}
	\captionsetup{margin=1.15\leftmargin}
	\caption{Plan de entrega de versiones}
	\label{grid_example_2_rows_5_columns} \\[2ex]
	
	\hline \multicolumn{1}{|c|}{\colorentry{\textbf{Entregable }}} & \multicolumn{1}{c|}{\colorentry{\textbf{ Iteración 1}}} & \multicolumn{1}{c|}{\colorentry{\textbf{ Iteración 2}}} & \multicolumn{1}{c|}{\colorentry{\textbf{ Iteración 3}}} & \multicolumn{1}{c|}{\colorentry{\textbf{ Iteración 4}}} \\ \hline 
	\endfirsthead
	
	\caption{Continuación de la página anterior} \\ 
	\hline \multicolumn{1}{|c|}{\colorentry{\textbf{Columna 1}}} & \multicolumn{1}{c|}{\colorentry{\textbf{Columna 2}}} & \multicolumn{1}{c|}{\colorentry{\textbf{Columna 3}}} & \multicolumn{1}{c|}{\colorentry{\textbf{Columna 4}}} & \multicolumn{1}{c|}{\colorentry{\textbf{Columna 5}}} \\ \hline 
	\endhead
	
	\hline \multicolumn{5}{|r|}{{Continúa en la siguiente página}} \\ \hline
	\endfoot
	
	\hline
	\endlastfoot
	
	Módulos & Versión 0.1 & Versión 0.2 & Versión 0.3 &Versión 0.4  \\ \hline
	Fecha & 20/9/2024 & 20/10/2024 & 5/11/2024 & 20/11/2024 \\ \hline
	
\end{longtable}


\section{Fase II: Diseño del sistema}

La plataforma se implementó siguiendo los principios del patrón arquitectónico MVT
La arquitectura Modelo-Vista-Template (MVT) es un patrón de arquitectura de software utilizado por Django. Es una variante del patrón Modelo-Vista-Controlador (MVC) y se caracteriza por tratar de desacoplar lo máximo posible la interfaz de usuario de la lógica de la aplicación \citep{Sarmiento2019}.
El patrón MVT se divide en tres componentes principales:

\begin{itemize}
	\item Modelo: El modelo es responsable de manejar los datos y la lógica de negocio de la aplicación. En otras palabras, el modelo es el encargado de interactuar con la base de datos y proporcionar los datos necesarios a la vista.
	\item Vista: La vista es responsable de presentar los datos al usuario final. En otras palabras, la vista es el encargado de manejar las interfaces gráficas y proporcionar información dinámica al usuario \citep{rafaelD2021}.
	\item 	Plantilla: La plantilla es responsable de definir cómo se presentan los datos en la vista. En otras palabras, el template define cómo se estructura y se muestra la información en la GUI \citep{Sarmiento2019}.
\end{itemize}

El patrón MVT es una arquitectura de diseño que se utiliza para crear aplicaciones web eficientes y escalables. La separación de responsabilidades en los componentes del patrón permite que cada uno cumpla una función clara y definida, lo que facilita su mantenimiento y escalabilidad en el futuro. La reutilización de código, ya que, al separar las diferentes responsabilidades en componentes individuales, el código se puede escribir una vez y reutilizar en diferentes partes de la aplicación. Esto reduce el tiempo y el costo del desarrollo, y hace que el proceso de programación sea más eficiente.


\section{Patrones de diseño}


Los patrones de diseño, tratan los problemas que se repiten y que se presentan en situaciones particulares
del diseño, con el fin de proponer soluciones a ellas. Se encargan de identificar clases, instancias, roles,
colaboraciones entres estas, así como la distribución de responsabilidades. En resumen,
es una descripción de clases y objetos comunicándose entre sí, adaptada para resolver un problema de diseño
general en un contexto particular.

\subsection{Patrones \ac{GRASP}}

\ac{GRASP} son un conjunto de patrones de diseño de software orientado a objetos que se enfocan en asignar responsabilidades de manera adecuada a las clases y objetos en un sistema. Los patrones de diseño \ac{GRASP} proporcionan un enfoque práctico para el diseño orientado a objetos y se pueden aplicar a diferentes etapas del ciclo de vida del software, desde la planificación hasta la implementación. Estos patrones de diseño pueden ayudar a mejorar el modularidad, la reutilización, la flexibilidad y la mantenibilidad del software, al tiempo que reducen la complejidad y el acoplamiento entre las clases \citep{CodeScouts2022}.

Patrones de diseño \ac{GRASP}:

\begin{itemize}
	\item Controlador: maneja las solicitudes entrantes y enviar las respuestas correspondientes a los clientes. El controlador en Django se evidencia a través de una vista y en la configuración de las rutas URL, permitiendo una asignación efectiva de responsabilidades en la gestión de solicitudes y lógica de la aplicación. 
	\item Creador: Django utiliza Creator para crear objetos de modelo. ORM de Django se encarga de crear objetos de modelo y mapearlos a la base de datos. La creación de instancias es unas de las actividades más comunes en un sistema orientado a objetos. El patrón se hace evidente en las clases contenidas dentro del archivo View.py, las cuales tienen la responsabilidad de instanciar los objetos creados con cada sistema de configuración básica.
	\item Experto: Django utiliza Expert para asignar responsabilidades de manera adecuada a las clases. En Django, las vistas son responsables de manejar las solicitudes entrantes y las plantillas son responsables de generar las respuestas HTML. Este patron se encuentra aplicado en todas las clases del archivo Models.py.
	\item	Alta Cohesión: cada elemento del diseño debe realizar una labor única dentro del sistema, no desempeñada por el resto de los elementos y auto identificable. Este patrón está representado en las clases contenidas dentro del archivo View.py, las cuales tienen una única responsabilidad que puede ser CreateView, UpdateView o DeleteView \citep{CodeScouts2022}.
	
\end{itemize}

\subsection{Patrones \ac{GoF}}

Los patrones de diseño \ac{GoF}) son un conjunto de patrones de diseño de software orientado a objetos. Estos patrones de diseño se han convertido en un conjunto clásico de patrones de diseño y son ampliamente utilizados en el diseño y desarrollo de sistemas de software orientados a objetos. Proporcionan soluciones probadas y efectivas para problemas comunes de diseño de software orientado a objetos. Cada patrón describe un problema de diseño específico y proporciona una solución general que se puede aplicar a diferentes situaciones \citep{gamma1994design}.

Patrones de diseño \ac{GoF}:

\begin{itemize}
	\item Decorador: agrega funcionalidades adicionales a las vistas. Django utiliza este patrón para la creación de vistas personalizadas y middleware, permitiendo agregar funcionalidad adicional a las vistas o el procesamiento de solicitudes sin modificar su código principal como la autenticación, caché, compresión \citep{Silva2019}.
\end{itemize}


Una vez definidos los patrones de diseño, se describen las clases utilizadas en la solución. Siguiendo la metodología XP, se analizan las HU y se descomponen en tareas independientes.

\section{Tarjetas \ac{CRC}}

A continuación, las HU son evaluadas para dividirlas en tareas, cada tarea representa una característica distinta del sistema y se puede diseñar una prueba de unidad que verifique cada tarea, estas tareas se
representan por medio de las tarjetas \ac{CRC}.


\begin{figure}[!htb]
	\centering
	\captionbox{Prototipo de Tarjeta \ac{CRC}\label{fig:crc}}
	{\includegraphics[width=0.7\linewidth]{Images/crc}}
\end{figure}

Como se puede observar en la Figura 2.2, cada tarjeta contiene el nombre de la clase, una descripción de
las responsabilidades o métodos asociados con la clase, así como la lista de las clases con que se relaciona
o que colaboran con ella. A continuación se describen las tarjetas definidas para la implementación de la
solución.

\begin{crccard}[tb:mytable]
	\crcclass{WorkerView}
	\crcresp{
		\begin{itemize}
			\item worker()
			\item storeWorker()
			\item updateWorker()
			\item deleteWorker()
			\item deleteAllWorker()
			
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item Worker
			\item User
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}


\begin{crccard}[tb:mytable]
	\crcclass{OpinionView}
	\crcresp{
	\begin{itemize}
		\item opinion()
		\item storeOpinion()
		\item deleteOpinion()
		\item deleteAllOpinion()
		
	\end{itemize}
}
\crccolab{
	\begin{itemize}
		\item Opinion
		\item User
		\item Middleware
		
	\end{itemize}
}
\end{crccard}

\clearpage

\begin{crccard}[tb:mytable]
	\crcclass{UserView}
	\crcresp{
	\begin{itemize}
		\item user()
		\item storeUser()
		\item updateUser()
		\item deleteUser()
		\item deleteAllUser()
		
	\end{itemize}
}
\crccolab{
	\begin{itemize}
		\item User
		\item Middleware
		
	\end{itemize}
}
\end{crccard}

\begin{crccard}[tb:mytable]
	\crcclass{WebView}
	\crcresp{
		\begin{itemize}
			\item home()
			\item service()
			\item about()
			\item testimoniof()
			\item blog()
			\item dashboard()
			
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item User
			\item Procedure
			\item Opinion
			\item Worker
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}

\begin{crccard}[tb:mytable]
	\crcclass{ProfileView}
	\crcresp{
		\begin{itemize}
			\item profile()
			\item signup()
			\item signin()
			\item signout()
			\item changePassword()
			\item updatePerfil()
			\item updatePhotoPerfil()
			
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item User
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}

\begin{crccard}[tb:mytable]
	\crcclass{DateView}
	\crcresp{
		\begin{itemize}
			\item reserve()
			\item date()
			\item showDate()
			\item storeDate()
			\item aceptarDate()
			\item cancelarDate()
			
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item Date
			\item User
			\item Available
			\item Procedure
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}

\begin{crccard}[tb:mytable]
	\crcclass{ProcedureView}
	\crcresp{
		\begin{itemize}
			\item procedure()
			\item storeProcedure()
			\item updateProcedure()
			\item deleteProcedure()
			\item deleteAllProcedure()
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item Procedure
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}

\begin{crccard}[tb:mytable]
	\crcclass{AvailableView}
	\crcresp{
		\begin{itemize}
			\item available()
			\item storeAvailable()
			\item updateAvailable()
			\item deleteAvailable()
			\item deleteAllAvailable()
		\end{itemize}
	}
	\crccolab{
		\begin{itemize}
			\item Available
			\item Middleware
			
		\end{itemize}
	}
\end{crccard}

\section{Conclusiones del capítulo}
	
	En el presente capítulo se ha descrito en detalle el diseño y las características principales del sistema propuesto para Transconsul \ac{S.A.}, con el objetivo de mejorar la gestión de sus servicios legales. A través de la implementación de un enfoque modular, una metodología ágil y herramientas de diseño avanzadas, se ha logrado establecer una solución técnica robusta y alineada con los requerimientos de la empresa. A continuación, se destacan las conclusiones principales:
	
	\begin{enumerate}
		\item \textbf{Diseño modular y flexible:} El sistema propuesto se basa en un diseño modular que permite una implementación escalonada de las funcionalidades, facilitando tanto el desarrollo como el mantenimiento. Esta estructura asegura que el sistema pueda adaptarse a las necesidades cambiantes de la empresa y escalar conforme se incrementen los servicios ofrecidos o se modifiquen los procesos.
		
		\item \textbf{Historias de Usuario (HU) como guía central:} La definición clara y detallada de las Historias de Usuario (HU) ha sido fundamental para captar de manera precisa los requerimientos de los diferentes actores del sistema, lo que ha permitido priorizar las funcionalidades críticas y garantizar que el desarrollo esté centrado en las necesidades del cliente final.
		
		\item \textbf{Planificación iterativa con XP:} La metodología ágil \textbf{Extreme Programming (XP)} ha proporcionado un marco de trabajo eficiente, que no solo permite un desarrollo continuo, sino también una retroalimentación constante con el cliente, asegurando que los cambios puedan incorporarse rápidamente sin afectar la calidad del producto final. El plan de iteraciones y el plan de entregas garantizan un desarrollo ordenado y progresivo.
		
		\item \textbf{Uso de patrones de diseño (GRASP y GoF):} La aplicación de patrones de diseño, como \textbf{GRASP} y \textbf{GoF}, ha contribuido significativamente a una mejor organización del código y a una asignación más eficiente de las responsabilidades entre las clases del sistema. Estos patrones garantizan un diseño coherente, reutilizable y fácil de mantener, reduciendo la complejidad a medida que el sistema crece.
	\end{enumerate}
	
	En conclusión, este capítulo ha establecido las bases técnicas y funcionales necesarias para la implementación del sistema, asegurando que la solución propuesta no solo cumpla con los objetivos establecidos, sino que también sea lo suficientemente flexible y escalable para evolucionar junto con las necesidades de Transconsul \ac{S.A.}.
	

